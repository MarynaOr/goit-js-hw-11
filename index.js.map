{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47645708-0e2c2a3797788683efa376261';\n\nexport function fetchImg(search) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.json();\n  });\n}\n","export function createMarkup(images) {\n  if (!Array.isArray(images) || images.length === 0) {\n    console.error('Invalid or empty data for createMarkup.');\n    return '';\n  }\n\n  return images\n    .map(\n      ({\n        id,\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class='item-gallery' data-id='${id}'>\n      <a class='link-gallery' href='${largeImageURL}'>\n        <img \n          class='img-gallery'\n          src='${webformatURL}'\n          alt='${tags}'\n          loading=\"lazy\"\n        >\n        <ul>\n          <li class='info-img'><span>Likes</span>${likes}</li>\n          <li class='info-img'><span>Views</span>${views}</li>\n          <li class='info-img'><span>Comments</span>${comments}</li>\n          <li class='info-img'><span>Downloads</span>${downloads}</li>\n        </ul>\n      </a>\n    </li>\n    `\n    )\n    .join('');\n}\n\nexport function showLoadingMessage(load) {\n  load.style.display = 'block';\n}\n\nexport function hideLoadingMessage(load) {\n  load.style.display = 'none';\n}\n","import { fetchImg } from './js/pixabay-api';\nimport {\n  createMarkup,\n  showLoadingMessage,\n  hideLoadingMessage,\n} from './js/render-functions';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryImage = new SimpleLightbox('.item-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 300,\n  className: 'bg-color',\n});\n\nconst form = document.querySelector('.form');\nconst btn = document.querySelector('.btn');\nconst gallery = document.querySelector('.gallery');\nconst input = form.querySelector('label input');\nconst load = document.querySelector('.load');\n\nform.addEventListener('submit', handleSubmit);\nlet search = '';\nfunction handleSubmit(event) {\n  event.preventDefault();\n  search = event.target.elements.search.value.trim();\n\n  if (search === '') {\n    hideLoadingMessage(load);\n    iziToast.warning({\n      title: 'Caution',\n      message: 'The field is empty, please type your request',\n    });\n    return;\n  }\n  if (search) {\n    showLoadingMessage(load);\n  }\n\n  fetchImg(search)\n    .then(response => {\n      if (response.total === 0) {\n        gallery.innerHTML = '';\n        throw new Error();\n      }\n\n      hideLoadingMessage(load);\n\n      return response.hits;\n    })\n    .then(image => {\n      gallery.innerHTML = '';\n      hideLoadingMessage(load);\n\n      gallery.innerHTML = createMarkup(image);\n      search = '';\n      galleryImage.refresh();\n    })\n    .catch(() => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n"],"names":["BASE_URL","API_KEY","fetchImg","search","params","url","response","createMarkup","images","id","largeImageURL","webformatURL","tags","likes","views","comments","downloads","showLoadingMessage","load","hideLoadingMessage","galleryImage","SimpleLightbox","form","gallery","handleSubmit","event","iziToast","image"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAASC,EAAQ,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKE,EAAM,GAAGL,CAAQ,IAAII,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,MACpB,CAAG,CACH,CCrBO,SAASC,EAAaC,EAAQ,CACnC,MAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,GAC9C,QAAQ,MAAM,yCAAyC,EAChD,IAGFA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,wCAC4BP,CAAE;AAAA,sCACJC,CAAa;AAAA;AAAA;AAAA,iBAGlCC,CAAY;AAAA,iBACZC,CAAI;AAAA;AAAA;AAAA;AAAA,mDAI8BC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAK3D,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAmBC,EAAM,CACvCA,EAAK,MAAM,QAAU,OACvB,CAEO,SAASC,EAAmBD,EAAM,CACvCA,EAAK,MAAM,QAAU,MACvB,CC7BA,MAAME,EAAe,IAAIC,EAAe,kBAAmB,CACzD,aAAc,MACd,aAAc,IACd,UAAW,UACb,CAAC,EAEKC,EAAO,SAAS,cAAc,OAAO,EAC/B,SAAS,cAAc,MAAM,EACzC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACnCD,EAAK,cAAc,aAAa,EAC9C,MAAMJ,EAAO,SAAS,cAAc,OAAO,EAE3CI,EAAK,iBAAiB,SAAUE,CAAY,EAC5C,IAAIrB,EAAS,GACb,SAASqB,EAAaC,EAAO,CAI3B,GAHAA,EAAM,eAAc,EACpBtB,EAASsB,EAAM,OAAO,SAAS,OAAO,MAAM,OAExCtB,IAAW,GAAI,CACjBgB,EAAmBD,CAAI,EACvBQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8CACf,CAAK,EACD,MACD,CACGvB,GACFc,EAAmBC,CAAI,EAGzBhB,EAASC,CAAM,EACZ,KAAKG,GAAY,CAChB,GAAIA,EAAS,QAAU,EACrB,MAAAiB,EAAQ,UAAY,GACd,IAAI,MAGZ,OAAAJ,EAAmBD,CAAI,EAEhBZ,EAAS,IACtB,CAAK,EACA,KAAKqB,GAAS,CACbJ,EAAQ,UAAY,GACpBJ,EAAmBD,CAAI,EAEvBK,EAAQ,UAAYhB,EAAaoB,CAAK,EACtCxB,EAAS,GACTiB,EAAa,QAAO,CAC1B,CAAK,EACA,MAAM,IAAM,CACXM,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL"}